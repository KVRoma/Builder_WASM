@page "/"
@using Builder_WASM.Client.Shared.Authentication

<PageTitle>Index</PageTitle>

<h1>@mess</h1>


@if (role == "null" || role == "")
{
    <Login></Login>
}


@code {

    string mess = string.Empty;
    string role = string.Empty;

    protected override void OnInitialized()
    {

        if (AuthenticationService.User == null)
        {
            role = "null";
        }
        else if (AuthenticationService.User.Role == "Admin")
        {
            role = "Admin";
            NavigationManager.NavigateTo("/adminlist");
        }
        else if (AuthenticationService.User.Role == "User")
        {
            role = "User";
            mess = "Hello, User!";
        }
        else if (AuthenticationService.User.Role == "")
        {
            role = "";            
        }

    }
}